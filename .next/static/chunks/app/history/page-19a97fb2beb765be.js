(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{12373:(e,s,a)=>{Promise.resolve().then(a.bind(a,30851))},30851:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(95155),r=a(12115),i=a(48173),l=a.n(i),n=a(32274),c=a(35007),d=a(39286),m=a(25488),o=a(60252),x=a(50972),u=a(37195);function h(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[h,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/history");if(!e.ok)throw Error("Failed to fetch summaries");let a=await e.json();s(a.summaries)}catch(e){f(e instanceof Error?e.message:"Failed to load summaries")}finally{i(!1)}})()},[]);let j=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=e=>{let s=Object.entries(n.cb).find(s=>{let[a,t]=s;return t===e});return s?s[0]:e};return a?(0,t.jsxs)("div",{className:"container mx-auto py-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"Summary History"}),(0,t.jsx)(c.Zp,{children:(0,t.jsx)(c.Wu,{className:"py-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.E,{className:"h-4 w-4"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(m.E,{className:"h-4 w-48"}),(0,t.jsx)(m.E,{className:"h-4 w-24"})]}),(0,t.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.E,{className:"h-3 w-3"}),(0,t.jsx)(m.E,{className:"h-3 w-32"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.E,{className:"h-3 w-3"}),(0,t.jsx)(m.E,{className:"h-3 w-48"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.E,{className:"h-3 w-3"}),(0,t.jsx)(m.E,{className:"h-3 w-40"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)("div",{className:"w-1/3 text-right",children:"Processing Video"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-primary w-[45%] rounded-full animate-pulse"})})})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(m.E,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Analyzing video content..."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(m.E,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Generating summary sections..."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(m.E,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Creating final summary..."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(m.E,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Saving to history..."})]})]})]})]})})})]}):h?(0,t.jsx)("div",{className:"container mx-auto py-8",children:(0,t.jsx)(c.Zp,{children:(0,t.jsx)(c.Wu,{children:(0,t.jsx)("div",{className:"bg-destructive/15 text-destructive px-4 py-3 rounded-md",children:h})})})}):(0,t.jsxs)("div",{className:"container mx-auto py-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"Summary History"}),(0,t.jsx)("div",{className:"space-y-4",children:0===e.length?(0,t.jsx)(c.Zp,{children:(0,t.jsx)(c.Wu,{children:(0,t.jsx)("p",{className:"text-center py-8 text-muted-foreground",children:"No summaries yet. Try summarizing some videos!"})})}):e.map(e=>(0,t.jsx)(l(),{href:"/history/".concat(e.id),children:(0,t.jsx)(c.Zp,{className:"hover:bg-accent transition-colors",children:(0,t.jsx)(c.Wu,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold line-clamp-1",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"truncate",children:e.videoId})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.E,{variant:"secondary",className:"flex items-center gap-1",children:["podcast"===e.mode?(0,t.jsx)(x.A,{className:"h-3 w-3"}):(0,t.jsx)(o.A,{className:"h-3 w-3"}),"podcast"===e.mode?"Podcast":"Video"]}),(0,t.jsx)(d.E,{variant:"outline",children:p(e.language)}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground whitespace-nowrap",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("time",{children:j(e.createdAt)})]})]})]})})})},e.id))})]})}},39286:(e,s,a)=>{"use strict";a.d(s,{E:()=>n});var t=a(95155);a(12115);var r=a(31027),i=a(29602);let l=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,i.cn)(l({variant:a}),s),...r})}},35007:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>m,ZB:()=>c,Zp:()=>l,aR:()=>n});var t=a(95155),r=a(12115),i=a(29602);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow transition-all duration-300",a),...r})});l.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",a),...r})});m.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},25488:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(95155),r=a(29602);function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-primary/10",s),...a})}},29602:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(43463),r=a(69795);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},32274:(e,s,a)=>{"use strict";a.d(s,{cb:()=>t});let t={English:"en"}},37195:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(14057).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},50972:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(14057).A)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]])},60252:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(14057).A)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[85,173,441,517,358],()=>s(12373)),_N_E=e.O()}]);